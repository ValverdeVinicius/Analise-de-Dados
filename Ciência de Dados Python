### Analisando o histórico dos clientes dos últimos anos, você
percebeu que mais de 26% dos clientes que entraram na
empresa, cancelaram o contrato.
A única informação que você tem é um arquivo .csv extraído do
sistema da empresa.
O que a empresa precisa fazer para resolver isso? ###


import pandas as pd

df = pd.read_csv('telecom_users.csv')

df = df.drop ('Unnamed: 0', axis=1) #axis 0 = linha, axis 1 = coluna
display(df)


df["TotalGasto"] = pd.to_numeric(df["TotalGasto"], errors="coerce")

df = df.dropna(how="all", axis=1)

df = df.dropna(how="any", axis=0)

print(df.info())

print(df["Churn"].value_counts())

print(df["Churn"].value_counts(normalize=True).map("{:.1%}".format))

!pip install plotly
import plotly.express as px

for coluna in df.columns:
    grafico = px.histogram(df, x=coluna, color="Churn")
    grafico.show()
    
    ### Conclusões: 
    Clientes com contrato mensal tem MUITO mais chance de cancelar:
        Podemos fazer promoções para o cliente ir para o contrato anual

    Familias maiores tendem a cancelar menos do que famílias menores
        Podemos fazer promoções pra pessoa pegar uma linha adicional de telefone

    MesesComoCliente baixos tem MUITO cancelamento. Clientes com pouco tempo como cliente tendem a cancelar muito
        A primeira experiência do cliente na operadora pode ser ruim
        Talvez a captação de clientes tá trazendo clientes desqualificados
        Ideia: a gente pode criar incentivo pro cara ficar mais tempo como cliente

    QUanto mais serviços o cara tem, menos chance dele cancelar
        podemos fazer promoções com mais serviços pro cliente

    Tem alguma coisa no nosso serviço de Fibra que tá fazendo os clientes cancelarem
        Agir sobre a fibra

    Clientes no boleto tem MUITO mais chance de cancelar, então temos que fazer alguma ação para eles irem para as outras formas de pagamento ###
